docker build --platform linux/amd64 -t hashicorp/tfc-agent:mk-1 .
docker run -e TFC_AGENT_TOKEN=<TOKEN> -e TFC_AGENT_NAME=local-agent hashicorp/tfc-agent:mk-1

payload = {
  "data": {
    "attributes": {
      "plan-only": True
    },
    "type":"runs",
    "relationships": {
      "workspace": {
        "data": {
          "type": "workspaces",
          "id": "ws-2NNZXcADtN5beCu2"
        }
      }
    }
  }
}
result = run_query("/runs", method="POST", payload=payload)
pprint(result)

Wait until the run has completed then:


result = run_query(f"/plans/plan-WreuWbqi6Tc5ZMud")
pprint(result)

