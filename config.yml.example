# These are all the possible properties for the configuration files.
# The values included in this file are the default values for the property they are associated with.
exporter:
  name: # Valid values: terraform
  settings:
    # Specific to the Terraform exporter (exporter.name: terraform)
    api_endpoint: https://app.terraform.io
    api_token:

    # The number of parallel agents to spin up locally when enriching data.
    # this can be increased to speed up the enrichment process just know that it will increase the memory usage of the exporter.
    # every worker will spin up its own docker container.
    parallel_enrichment_workers: 1

    # ┌─────────────────────────────────────────────────────────────────────────┐
    # │ EXPORT-TIME FILTERING                                                   │
    # │                                                                         │
    # │ Filters applied during 'spacemk export' when fetching from TFC API.     │
    # │ Use this to limit what gets saved to data.json.                         │
    # │ Reduces API calls and data.json size for large TFC installations.       │
    # │                                                                         │
    # │ All patterns are regex. Only entities with names matching the pattern   │
    # │ will be exported.                                                       │
    # └─────────────────────────────────────────────────────────────────────────┘
#    include:
#      organizations: ^my-org$              # Filter TFC organizations by name
#      workspaces: ^prod-.*$                # Filter workspaces by name

#    # If you want to support variable sets, set this to `true`. This feature is experimental.
#    # Default: false
#    experimental_support_variable_sets: false

generator:

  # ┌─────────────────────────────────────────────────────────────────────────┐
  # │ GENERATE-TIME FILTERING                                                 │
  # │                                                                         │
  # │ Filters applied during 'spacemk generate' when creating Terraform code. │
  # │ Use this to control which entities from data.json get generated.        │
  # │                                                                         │
  # │ This allows you to run 'export' once and then run 'generate' multiple   │
  # │ times with different filters without re-fetching from TFC.              │
  # │                                                                         │
  # │ All patterns are regex. Related entities are automatically filtered:    │
  # │ - Filtering workspaces also filters their variables                     │
  # │ - Filtering affects context attachments to stacks                       │
  # │ - Spaces with no remaining stacks/modules are excluded                  │
  # └─────────────────────────────────────────────────────────────────────────┘
#  include:
#    workspaces: ^prod-.*$                  # Filter stacks by workspace name
#    modules: ^terraform-aws-.*$            # Filter modules by name

#  # If you use a custom app in github with spacelift, set this to `true`.
#  # If you use the marketplace github app with spacelift, set this to `false`.
#  # Default: false
#  github:
#    custom_app: false

#  # If you want spacelift to manage your state set to `true`.
#  # If you want to use a third-party backend, like s3, set to `false`.
#  # Default: true
#  spacelift:
#    manage_state: true

#  # Custom runner to use for stacks with custom runner images configured
#  # See customizing the runner image: https://docs.spacelift.io/integrations/docker#customizing-the-runner-image
#  # Default: N/A, must be provided (however, not always used. If it is used and not provided an exception will be raised during code generation)
#  custom_runner_image: public.ecr.aws/spacelift/runner-terraform

#  # The default branch for all modules. Only used if the module does not have a branch specified.
#  # Default: empty string
#  modules:
#    default_branch: main

#  # The default branch for all stacks. Only used if the stack does not have a branch specified.
#  # Default: empty string
#  stacks:
#    default_branch: main

  extra_vars:
    foo: bar # "{{ extra_vars.foo }}" in a template will be replaced by "bar"

github:
  api_token:
  endpoint: https://api.github.com

spacelift:
  api:
    api_key_endpoint: https://<ACCOUNT NAME>>.app.spacelift.io/graphql
    api_key_id:
    api_key_secret:
